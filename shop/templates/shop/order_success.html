{% extends "main.html" %}
{% load static %}

{% block content %}
    {% include "navbar.html" %}

    <main class="max-w-6xl mx-auto px-4 pt-10 pb-16">

        <div class="kicker text-xs text-[var(--accent)]/85">Sucesso</div>

        <h1 class="mt-3 font-display uppercase text-4xl md:text-5xl leading-[0.9]">
            Pedido confirmado
        </h1>

        <section class="mt-8 rounded-3xl border border-white/10 glass p-7 md:p-10 noise relative overflow-hidden">
            <div class="kicker text-[10px] text-[var(--accent)]/80">Número do pedido</div>
            <div class="mt-2 font-monoish text-white text-xl">{{ order.order_number }}</div>

            <div class="mt-6 text-white/70 text-sm">
                <div><span class="text-white/50">Cliente:</span> {{ order.customer_name }}</div>
                <div class="mt-1"><span class="text-white/50">Método:</span> {{ order.get_fulfillment_method_display }}
                </div>
            </div>

            <div class="mt-6 pt-6 border-t border-white/10">
                <div class="kicker text-[10px] text-[var(--accent)]/80">Itens</div>
                <div class="mt-3 space-y-2 text-sm text-white/70">
                    {% for it in order.items.all %}
                        <div class="flex items-start justify-between gap-4">
                            <div>
                                <div class="font-display uppercase leading-[0.95]">{{ it.product_name }}</div>
                                <div class="text-xs text-white/50 font-monoish">Tamanho: {{ it.size }} ·
                                    Qtd: {{ it.quantity }}</div>
                            </div>
                            <div class="font-monoish">{{ it.line_total|floatformat:0 }} MZN</div>
                        </div>
                    {% endfor %}
                </div>

                <div class="mt-6 text-sm text-white/70">
                    <div class="flex items-center justify-between">
                        <span>Subtotal</span><span
                            class="font-monoish">{{ order.subtotal_amount|floatformat:0 }} MZN</span>
                    </div>
                    <div class="flex items-center justify-between mt-2">
                        <span>Total</span><span
                            class="font-monoish font-bold text-white">{{ order.total_amount|floatformat:0 }} MZN</span>
                    </div>
                </div>
            </div>

            <div class="mt-8 flex flex-col sm:flex-row gap-3">
                <a href="{% url 'shop:merch' %}"
                   class="rounded-full px-6 py-3 border border-white/15 hover:border-white/30 text-white/90 transition glass font-bold text-center">
                    Voltar ao merch
                </a>
            </div>

            <p class="mt-4 text-[10px] text-white/45">
                Pagamento pendente. Confirmação/coordenação pode ser feita por WhatsApp.
            </p>
        </section>

    </main>

    {% include "footer.html" %}
{% endblock %}
